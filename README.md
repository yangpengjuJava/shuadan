# 后台抢单系统

 该系统共有四个功能：
 * 开始抢单
 * 暂停抢单
 * 调整抢单频率
 * 抢单状态查询

## 一、开始抢单

接口地址：http://xxxx:xxxx/sd?cookie=xxxxx

使用时需将{cookie}切换为真实的cookie,示例：http://xxxx:6666/sd?cookie=6ac4e7fa-10a3-43c2-8b96-2a7211725bfd

1. 登录做单的系统，然后复制到cookie（如何获取cookie，查看视频教程）
2. 打开postman，找到“开始抢单”，将cookie粘贴到对应的位置，点击“发送”（英文版叫做“Send”）

cookie获取教程：
![](./cookie_guide.png)

## 二、暂停抢单

接口地址：http://xxxx:xxxxx/sd/pause

1. 打开postman，找到“暂停抢单”，点击“发送”（英文版叫做“Send”）

## 三、调整抢单频率

接口地址：http://81.68.87.47:6666/sd/waitTime/{等待时间}

1. 打开postman，找到“更改抢单频率（线上）”，将waitTime/后的数字调整为期望的时间频率，单位为毫秒，修改为1000，即为1000毫秒（1秒），
修改为1500，即为1500毫秒（1.5秒），点击“发送”（英文版叫做“Send”）

## 四、抢单状态查询：

1. 打开postman，找到“抢单状态查询（线上）”，点击“发送”（英文版叫做“Send”）

该功能可查看抢单程序是否在执行中，当返回“抢单任务状态：【启动中】”的时候，即脚本正常执行，如返回【已关闭】，则脚本未执行。

## 使用需理解的问题
1. 脚本部署和运行都在服务器，各位朋友电脑上安装的postman是一个网络请求工具，负责将请求发送到服务器，然后服务器开始工作
2. 如不确定脚本是否在正常执行，请使用 `四、抢单状态查询`功能，查询脚本是否在执行中。
3. Postman显示的响应仅表示点击“发送（Send）”的结果，如点击开始抢单，返回“正在抢单“，仅能说明此次抢单请求是成功的，如果cookie发生了变化实际上已经无法抢单了，但是没有重新点击“发送（Send）”发送请求Postman的响应也不会改变。简单理解下，就是使用Postman时如果没点击Send，那么它的响应内容就没有参考价值。

## 常见问题

问：长时间抢不到单，怎么办？

答：长时间抢不到可能有以下原因
1. 暂停了抢单忘记了启动 
2. 重新登录了系统cookie发生了变化 
3. 系统单此时较少。 

解决方案：

1. 使用暂停功能停止抢单
2. 然后再用系统最新的cookie使用开始抢单
3. 如何保证cookie是最新的？刷新一下做单系统的页面如果没有跳转到登录页面，cookie就是最新的 

